<?xml version="1.0" encoding="UTF-8"?>
<!-- <beans xmlns="http://www.springframework.org/schema/beans" -->
<!-- xmlns:context="http://www.springframework.org/schema/context" -->
<!-- xmlns:util="http://www.springframework.org/schema/util" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" -->
<!-- xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd -->
<!-- http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd -->
<!-- http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd"> -->
<beans xmlns="http://www.springframework.org/schema/beans"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
 xmlns:util="http://www.springframework.org/schema/util"
 xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd
        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd">

 <context:property-placeholder
  properties-ref="props" />
 <util:properties id="props">
  <!-- <prop key="solr.base">http://localhost:9080/solr</prop> -->
  <prop key="solr.base">http://cn-dev.dataone.org/solr</prop>
 </util:properties>


 <bean id="dateConverter" class="org.dataone.cn.indexer.convert.SolrDateConverter" />
 <bean id="solrLatitudeConverter" class="org.dataone.cn.indexer.convert.SolrLatitudeConverter" />
 <bean id="solrLongitudeConverter" class="org.dataone.cn.indexer.convert.SolrLongitudeConverter" />

 <bean id="documentParsers" class="java.util.ArrayList">
  <constructor-arg>
   <list>
    <bean class="org.dataone.cn.indexer.XPathDocumentParser">
     <constructor-arg name="fields" ref="xpath_system_metadata_064">
     </constructor-arg>
     <constructor-arg name="xmlNamespaceConfig" ref="xmlNamespaceConfig" />
     <property name="solrindexUri" value="${solr.base}/update?commit=true" />
     <property name="solrQueryUri" value="${solr.base}/select/" />
     <property name="output_encoding" value="UTF-8" />
     <property name="input_encoding" value="UTF-8" />
     <property name="httpService" ref="httpService"></property>
     <property name="subprocessors">
      <list>
       <ref bean="eml200Subprocessor" />
       <ref bean="eml201Subprocessor" />
       <ref bean="eml210Subprocessor" />
       <ref bean="eml211Subprocessor" />
       <ref bean="resourceMapSubprocessor" />
      </list>
     </property>
    </bean>
   </list>
  </constructor-arg>
 </bean>

 <bean id="xmlNamespaceConfig" class="org.dataone.cn.indexer.XMLNamespaceConfig">
  <constructor-arg name="namespaceList">
   <list>
    <bean class="org.dataone.cn.indexer.XMLNamespace">
     <constructor-arg name="namespace"
      value="http://ns.dataone.org/service/types/v1" />
     <constructor-arg name="prefix" value="d064" />
    </bean>
    <bean class="org.dataone.cn.indexer.XMLNamespace">
     <constructor-arg name="namespace"
      value="eml://ecoinformatics.org/eml-2.0.0" />
     <constructor-arg name="prefix" value="eml200" />
    </bean>
    <bean class="org.dataone.cn.indexer.XMLNamespace">
     <constructor-arg name="namespace"
      value="eml://ecoinformatics.org/eml-2.0.1" />
     <constructor-arg name="prefix" value="eml201" />
    </bean>
    <bean class="org.dataone.cn.indexer.XMLNamespace">
     <constructor-arg name="namespace"
      value="eml://ecoinformatics.org/eml-2.1.0" />
     <constructor-arg name="prefix" value="eml210" />
    </bean>
    <bean class="org.dataone.cn.indexer.XMLNamespace">
     <constructor-arg name="namespace"
      value="eml://ecoinformatics.org/eml-2.1.1" />
     <constructor-arg name="prefix" value="eml211" />
    </bean>
   </list>
  </constructor-arg>
 </bean>

 <bean id="xmlNamespaceResource" class="org.dataone.cn.indexer.XMLNamespaceConfig">
  <constructor-arg name="namespaceList">
   <list>
    <bean class="org.dataone.cn.indexer.XMLNamespace">
     <constructor-arg name="prefix" value="cito" />
     <constructor-arg name="namespace" value="http://purl.org/spar/cito/" />
    </bean>
    <bean class="org.dataone.cn.indexer.XMLNamespace">
     <constructor-arg name="prefix" value="dc" />
     <constructor-arg name="namespace"
      value="http://purl.org/dc/elements/1.1/" />
    </bean>
    <bean class="org.dataone.cn.indexer.XMLNamespace">
     <constructor-arg name="prefix" value="dcterms" />
     <constructor-arg name="namespace" value="http://purl.org/dc/terms/" />
    </bean>
    <bean class="org.dataone.cn.indexer.XMLNamespace">
     <constructor-arg name="prefix" value="foaf" />
     <constructor-arg name="namespace" value="http://xmlns.com/foaf/0.1/" />
    </bean>
    <bean class="org.dataone.cn.indexer.XMLNamespace">
     <constructor-arg name="prefix" value="ore" />
     <constructor-arg name="namespace"
      value="http://www.openarchives.org/ore/terms/" />
    </bean>
    <bean class="org.dataone.cn.indexer.XMLNamespace">
     <constructor-arg name="prefix" value="rdf" />
     <constructor-arg name="namespace"
      value="http://www.w3.org/1999/02/22-rdf-syntax-ns#" />
    </bean>
    <bean class="org.dataone.cn.indexer.XMLNamespace">
     <constructor-arg name="prefix" value="rdfs1" />
     <constructor-arg name="namespace"
      value="http://www.w3.org/2001/01/rdf-schema#" />
    </bean>
   </list>
  </constructor-arg>
 </bean>

 <!-- <import resource="application-context-sciencemetadata.xml"/> -->

 <import resource="application-context-eml-base.xml" />
 <import resource="application-context-eml200.xml" />
 <import resource="application-context-eml201.xml" />
 <import resource="application-context-eml210.xml" />
 <import resource="application-context-eml211.xml" />
 <import resource="application-context-resourcemap.xml" />
 <import resource="application-context-systemmeta064.xml" />

 <bean id="booleanPublicConverter" class="org.dataone.cn.indexer.convert.BooleanMatchConverter">
  <constructor-arg value="public" />
 </bean>


 <!-- TODO: This node map obviously should be loaded from the node registry. 
  It is used to populate the retrieval URL for each object in the index. Note: 
  this means that is a node changes base URL, then really everything needs 
  to be re-indexed. It would be better if the URL generation operation were 
  to happen outside of the index, in the Mercury application for example. -->
 <util:map id="nodeRegistryMap">
  <!-- <entry key="DEMO1" value="https://demo1.test.datone.org/mn/v1/object/" 
   /> -->
  <entry key="c3p0" value="https://cn-dev.dataone.org/cn/v1/object/" />
  <!-- <entry key="r2d2" value="https://gmn-dev.test.dataone.org/mn/v1/object/" 
   /> -->
  <!-- <entry key="DEMO10" -->
  <!-- value="https://demo10.test.dataone.org:443/knb/d1/mn/v1/object/" /> -->
  <!-- <entry key="DEMO6" -->
  <!-- value="https://demo6.test.dataone.org:443/knb/d1/mn/v1/object/" /> -->
  <!-- <entry key="DEMO4" -->
  <!-- value="https://demo4.test.dataone.org:443/knb/d1/mn/v1/object/" /> -->
  <!-- <entry key="DEMO1" -->
  <!-- value="https://demo1.test.dataone.org:443/knb/d1/mn/v1/object/" /> -->
  <!-- <entry key="DEMO8" -->
  <!-- value="https://demo8.test.dataone.org:443/knb/d1/mn/v1/object/" /> -->
  <!-- <entry key="DEMO2" -->
  <!-- value="https://demo2.test.dataone.org:443/knb/d1/mn/v1/object/" /> -->
  <!-- <entry key="DEMO3" -->
  <!-- value="https://demo3.test.dataone.org:443/knb/d1/mn/v1/object/" /> -->
  <!-- <entry key="DEMO7" -->
  <!-- value="https://demo7.test.dataone.org:443/knb/d1/mn/v1/object/" /> -->
  <!-- <entry key="DEMO5" -->
  <!-- value="https://demo5.test.dataone.org:443/knb/d1/mn/v1/object/" /> -->
  <!-- <entry key="DEMO9" -->
  <!-- value="https://demo9.test.dataone.org:443/knb/d1/mn/v1/object/" /> -->
  <!-- <entry key="c1R1" -->
  <!-- value="https://cn-rpw-orc.communalware.net:443/knb/d1/mn/v1/object/" 
   /> -->
  <!-- <entry key="c2R1" -->
  <!-- value="https://cn-rpw-unm.communalware.net:443/knb/d1/mn/v1/object/" 
   /> -->
  <!-- <entry key="m1c1" -->
  <!-- value="http://mn-rpw-cat1.communalware.net/knb/d1/mn/v1/object/" /> -->
  <!-- <entry key="m2c1" -->
  <!-- value="http://mn-rpw-cat2.communalware.net/knb/d1/mn/v1/object/" /> -->
 </util:map>

 <bean id="httpService" class="org.dataone.cn.indexer.solrhttp.HTTPService">
 </bean>

</beans>